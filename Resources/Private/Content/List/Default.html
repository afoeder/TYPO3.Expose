{namespace cm=Foo\ContentManagement\ViewHelpers}

<cm:query.sort objects="{objects}">
<cm:query.filter objects="{sortedObjects}">
<cm:query.search objects="{filteredObjects}">
<cm:query.paginate objects="{matchingObjects}">
	<f:if condition="{filters}">
	<f:then>
		<div class="pull-right filter-sidebar">
			<cm:render partial="Filters/Right" fallbacks="Partials"/>
		</div>
		<div class="has-sidebar">
	</f:then>
	<f:else>
	</f:else>
		<div>
	</f:if>
			<!--<div class="form-search">
				<input type="text" class="" name="search" value="{search}" />
			    <button type="submit" class="btn">Search</button>
	        </div>-->
			<cm:render partial="List" variant="Table" fallbacks="ContentPartials" vars="{objects: paginatedObjects, sorting: sorting, listActions: listActions}"/>
			
			<div class="pagination pull-left">
				<cm:render partial="Limits" fallbacks="Partials"/>
				<!-- <_cm:being className="{className}">
					<_cm:render partial="VariantsSelector" fallbacks="Partials" vars="{variant: being.variant, current: 'List'}"/>
				</_cm:being> -->
			</div>
			<div class="pagination pull-right">
				<cm:render partial="Pagination" fallbacks="Partials"/>
			</div>
			
		</div>
</cm:query.paginate>
</cm:query.search>
</cm:query.filter>
</cm:query.sort>